syntax = "proto3";

package thesis;

service Motion{
    rpc MotionStreaming (stream RequestImage) returns (stream MotionResponse);
    rpc RegisterFaceIndexes (UserFormData) returns (UserFormData);
    rpc UpdateFaceIndexes (FaceIndexesConfirm) returns (FaceIndexesResponse);
}

message FaceIndexesConfirm{
    UserFormData userInf = 1;
    repeated string imageId = 2;
}

message FaceIndexesResponse{
    string activityId = 1;
    bool isSuccess = 2;
}

message UserFormData {
    string userId = 1;
    bool isFaceVerify = 2;
}

message RequestImage {
    string expectedLabel = 1;
    bytes imagePayload = 2;
    bool isPingMsg = 3;
}

message MotionResponse{
    string id = 1;
    bool result = 2;
    double confidence = 3;
    bool isPongMsg = 4;
}
